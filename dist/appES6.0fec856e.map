{"version":3,"sources":["appES6.js"],"names":["Book","title","author","isbn","UI","book","list","document","getElementById","row","createElement","innerHTML","appendChild","message","className","div","createTextNode","container","querySelector","form","insertBefore","setTimeout","remove","target","parentElement","value","Store","books","localStorage","getItem","JSON","parse","getBooks","forEach","ui","addBookToList","push","setItem","stringify","index","splice","addEventListener","displayBooks","e","showAlert","addBook","clearFields","preventDefault","deleteBook","removeBook","previousElementSibling","textContent"],"mappings":"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","file":"appES6.0fec856e.map","sourceRoot":"..","sourcesContent":["class Book {\n  constructor(title, author, isbn) {\n    this.title = title;\n    this.author = author;\n    this.isbn = isbn;\n  }\n}\n\nclass UI {\n  addBookToList(book) {\n    const list = document.getElementById('book-list');\n    // Create tr element\n    const row = document.createElement('tr');\n    // Insert cols\n    row.innerHTML = `\n      <td>${book.title}</td>\n      <td>${book.author}</td>\n      <td>${book.isbn}</td>\n      <td><a href='#' class='delete'>X</a></td>\n    `;\n\n    list.appendChild(row);\n  }\n\n  showAlert(message, className) {\n    // Create Div\n    const div = document.createElement('div');\n    // Add classes\n    div.className = `alert ${className}`;\n    // Add Text\n    div.appendChild(document.createTextNode(message));\n    // Get Parent\n    const container = document.querySelector('.container');\n    // Get Form\n    const form = document.querySelector('#book-form');\n    // Insert Alert\n    container.insertBefore(div, form);\n    // Timeout after 3 sec\n    setTimeout(function() {\n      document.querySelector('.alert').remove();\n    }, 3000);\n  }\n\n  deleteBook(target) {\n    if (target.className === 'delete') {\n      target.parentElement.parentElement.remove();\n    }\n  }\n\n  clearFields() {\n    document.getElementById('title').value = '';\n    document.getElementById('author').value = '';\n    document.getElementById('isbn').value = '';\n  }\n}\n\n// Local Storage Class\nclass Store {\n  static getBooks() {\n    let books;\n    if (localStorage.getItem('books') === null) {\n      books = [];\n    } else {\n      books = JSON.parse(localStorage.getItem('books'));\n    }\n    return books;\n  }\n\n  static displayBooks() {\n    const books = Store.getBooks();\n\n    books.forEach(function(book) {\n      const ui = new UI();\n\n      // Add book to UI\n      ui.addBookToList(book);\n    });\n  }\n\n  static addBook(book) {\n    const books = Store.getBooks();\n\n    books.push(book);\n\n    localStorage.setItem('books', JSON.stringify(books));\n  }\n\n  static removeBook(isbn) {\n    const books = Store.getBooks();\n\n    books.forEach(function(book, index) {\n      if (book.isbn === isbn) {\n        books.splice(index, 1);\n      }\n    });\n    localStorage.setItem('books', JSON.stringify(books));\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', Store.displayBooks);\n\n// Event Listener for add book\ndocument.getElementById('book-form').addEventListener('submit', function(e) {\n  // Get form values\n  const title = document.getElementById('title').value,\n    author = document.getElementById('author').value,\n    isbn = document.getElementById('isbn').value;\n\n  // Instantiate Book\n  const book = new Book(title, author, isbn);\n\n  // Instantiate UI\n  const ui = new UI();\n\n  // Validate\n  if (title === '' || author === '' || isbn === '') {\n    // Error alert\n    ui.showAlert('Please fill in all the fields', 'error');\n  } else {\n    // Add book to list\n    ui.addBookToList(book);\n\n    // Add to localStorage\n\n    Store.addBook(book);\n\n    // Show success\n    ui.showAlert('Book Added', 'success');\n\n    // Clear Fields\n    ui.clearFields();\n  }\n\n  e.preventDefault();\n});\n\n// Event listener for delete\ndocument.getElementById('book-list').addEventListener('click', function(e) {\n  // Instantiate UI\n  const ui = new UI();\n\n  // Delete book\n  ui.deleteBook(e.target);\n\n  // Remove from LS\n  Store.removeBook(e.target.parentElement.previousElementSibling.textContent);\n\n  // Show Message\n  ui.showAlert('Book Removed', 'success');\n\n  e.preventDefault();\n});\n"]}